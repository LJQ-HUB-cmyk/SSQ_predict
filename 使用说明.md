# 双色球LSTM模型使用说明

## 环境配置

项目已配置为使用 **Python 3.8** 和 **TensorFlow 2.10.0**（兼容CUDA 11.4）

## 快速开始

### 1. 激活环境并运行训练
```bash
cd /home/user/kkde_SSQ/双色球
source activate_tf_env.sh
python train_50.py
```

### 2. 或者手动激活环境
```bash
source /home/user/anaconda3/etc/profile.d/conda.sh
conda activate tf_env
export LD_LIBRARY_PATH=/usr/local/cuda-11.4/lib64:$LD_LIBRARY_PATH
export PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python
python train_50.py
```

## 环境信息

- **Conda环境**: `tf_env`
- **Python版本**: 3.8.20
- **TensorFlow版本**: 2.10.0
- **CUDA版本**: 11.4
- **GPU支持**: 需要安装cuDNN 8.x（详见 README_GPU.md）

## 已安装的依赖包

- tensorflow==2.10.0
- pandas>=2.0.3
- numpy>=1.24.4
- scikit-learn>=1.3.2
- beautifulsoup4
- requests
- lxml
- openpyxl

## 注意事项

1. **使用激活脚本**: 推荐使用 `activate_tf_env.sh` 脚本，它会自动配置所有必要的环境变量

2. **GPU支持**: 当前使用CPU训练。要启用GPU加速，需要安装cuDNN（详见 README_GPU.md）

3. **序列长度**: 已修复为使用50期数据，不再出现序列长度警告

4. **Protobuf**: 已配置为使用纯Python实现，避免库版本冲突

## 常见问题

**Q: 如何检查TensorFlow是否检测到GPU？**
```bash
source activate_tf_env.sh
python -c "import tensorflow as tf; print('GPU设备:', tf.config.list_physical_devices('GPU'))"
```

**Q: 如何切换到其他conda环境？**
```bash
conda deactivate  # 退出当前环境
conda activate 其他环境名
```

